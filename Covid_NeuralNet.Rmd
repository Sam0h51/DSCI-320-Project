---
title: "Covid_NeuralNet"
author: "Jonathan Olavarria"
date: "12/8/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r}
# Import Necessary Packages
library(tidyverse)
library(neuralnet)
library(reshape2)
library(ggplot2)
library(nnet)
library(caret)
```


```{r}
# Manipulate data
brazil<-read.csv("covidbrazil.csv",header = TRUE,sep=";")
partial_dat <- brazil[brazil$region == 'Brasil', ]

#by_week <- brazil %>% group_by(Epiweek)
#by_week %>% summarise(
#  newcases = mean(newcases),
#  totalcases = mean(totalcases))

df <- data.frame(matrix(ncol = 7, nrow = 0))
x <- c("d1","d2","d3", "d4", "d5", "d6","current")
colnames(df) <- x
j = 1
for ( i in 7:length(partial_dat$newdeaths)){
  temp <- c(brazil$totalcases[i-6], brazil$totalcases[i-5], brazil$totalcases[i-4], brazil$totalcases[i-3], brazil$totalcases[i-2], brazil$totalcases[i-1], brazil$totalcases[i])
  
  df[j, ] <- temp
  j = j+1
}

df
```


